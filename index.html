<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>T√¥i l√† Your Name - Bio</title>
  <meta name="description" content="Trang bio c√° nh√¢n: gi·ªõi thi·ªáu, li√™n k·∫øt m·∫°ng x√£ h·ªôi, d·ª± √°n v√† li√™n h·ªá."/>
  <meta property="og:title" content="Your Name - Bio"/>
  <meta property="og:description" content="Trang bio c√° nh√¢n: li√™n k·∫øt nhanh, d·ª± √°n v√† li√™n h·ªá."/>
  <meta property="og:type" content="website"/>
  <meta property="og:image" content=""/>
  <meta name="theme-color" content="#0ea5e9"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="img/bio-icon.png" type="image/png">

  <style>
    :root{--bg:#0b0c10;--card:#0e1116;--card-2:#11151b;--muted:#a3aab6;--text:#e6eaf0;--accent:#0ea5e9;--ring:rgba(14,165,233,.28);--ok:#10b981;--shadow:0 12px 40px rgba(0,0,0,.35);--radius:18px}
    .theme-light{--bg:#f7f8fb;--card:#fff;--card-2:#f6f8ff;--muted:#445063;--text:#0f172a;--accent:#0ea5e9;--ring:rgba(14,165,233,.22);--shadow:0 10px 30px rgba(2,6,23,.08)}
    .theme-dark{--bg:#0b0c10;--card:#0e1116;--card-2:#11151b;--muted:#a3aab6;--text:#e6eaf0;--accent:#14b8a6;--ring:rgba(20,184,166,.28);--shadow:0 12px 40px rgba(0,0,0,.35)}
    .theme-pastel{--bg:#fff1f2;--card:#fff;--card-2:#fff7fb;--muted:#6b7280;--text:#111827;--accent:#a78bfa;--ring:rgba(167,139,250,.25);--shadow:0 12px 30px rgba(168,85,247,.12)}
    .theme-gradient{--bg:#0b0c10;--card:rgba(14,17,22,.9);--card-2:rgba(17,21,27,.9);--muted:#cbd5e1;--text:#f8fafc;--accent:#60a5fa;--ring:rgba(96,165,250,.35);--shadow:0 20px 60px rgba(0,0,0,.45)}
    *{box-sizing:border-box}html,body{height:100%}
    body{margin:0;color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;background:var(--bg)}
    .container{max-width:1080px;margin:auto;padding:28px}
    .hero{position:relative;overflow:hidden;border-radius:var(--radius);padding:28px;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);border:1px solid rgba(148,163,184,.14);box-shadow:var(--shadow);display:grid;grid-template-columns:auto 1fr;gap:20px;align-items:center}
    .avatar{width:104px;height:104px;border-radius:24px;overflow:hidden;flex:0 0 104px;border:1px solid rgba(148,163,184,.18);background:#0b0c10;box-shadow:0 0 0 6px rgba(14,165,233,.08),0 0 40px rgba(14,165,233,.12)}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .who{display:flex;flex-direction:column;gap:8px;min-width:0}
    .name{font-size:1.9rem;font-weight:800;line-height:1.1;letter-spacing:-.02em;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .dot{width:10px;height:10px;border-radius:999px;background:var(--ok);box-shadow:0 0 0 6px rgba(16,185,129,.12)}
    .tagline{color:var(--muted)}
    .badges{display:flex;flex-wrap:wrap;gap:8px}
    .badge{padding:8px 10px;border-radius:999px;border:1px solid rgba(148,163,184,.18);background:rgba(148,163,184,.06);font-weight:500}
    .grid{display:grid;grid-template-columns:320px 1fr;gap:18px;margin-top:18px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);border:1px solid rgba(148,163,184,.14);border-radius:var(--radius);box-shadow:var(--shadow)}
    .section{padding:18px}.section h2{font-size:1.05rem;margin:0 0 10px 2px;opacity:.95;letter-spacing:.02em}
    .links{display:flex;flex-direction:column;gap:12px}
    .link{display:flex;align-items:center;gap:12px;padding:14px 14px;border-radius:14px;border:1px solid rgba(148,163,184,.16);background:linear-gradient(180deg,rgba(255,255,255,.02),transparent);text-decoration:none;color:inherit;transition:.12s ease}
    .link:hover{transform:translateY(-1px);box-shadow:0 10px 24px var(--ring);border-color:var(--ring)}
    .link svg{width:22px;height:22px;opacity:.9}
    .link img.icon{width:22px;height:22px;border-radius:6px;object-fit:cover}
    .pill{margin-left:auto;font-size:.85rem;color:var(--muted)}
    .prose{line-height:1.7}.prose p{margin:0}.prose p+p{margin-top:10px}
    .projects{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}
    @media (max-width:980px){.projects{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width:640px){.projects{grid-template-columns:1fr}}
    .project{padding:16px;border:1px solid rgba(148,163,184,.16);border-radius:14px;text-decoration:none;color:inherit;display:flex;flex-direction:column;gap:8px;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card-2);transition:.12s ease}
    .project:hover{transform:translateY(-1px);box-shadow:0 10px 24px var(--ring);border-color:var(--ring)}
    .project .title{font-weight:700;letter-spacing:.01em}.project .desc{color:var(--muted);font-size:.95rem}
    .contact{display:flex;flex-wrap:wrap;gap:12px}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 14px;border-radius:12px;border:1px solid rgba(148,163,184,.22);background:linear-gradient(180deg,rgba(255,255,255,.02),transparent);text-decoration:none;color:inherit}
    .btn:hover{border-color:var(--ring);box-shadow:0 8px 20px var(--ring)}
    footer{padding:18px;text-align:center;color:var(--muted)}
    .sr{position:absolute;width:1px;height:1px;clip:rect(1px,1px,1px,1px);overflow:hidden;white-space:nowrap}
  </style>
</head>
<body>
  <a class="sr" href="#main">B·ªè qua ƒë·ªÉ v√†o n·ªôi dung ch√≠nh</a>

  <div class="container" id="main">
    <section class="hero">
      <div class="avatar"><img id="avatar" src="https://picsum.photos/300?grayscale" alt="·∫¢nh ƒë·∫°i di·ªán" loading="lazy"/></div>
      <div class="who">
        <div class="name"><span id="name">Your Name</span><span id="availableDot" class="dot" title="Available"></span></div>
        <div class="tagline"><span id="role">Vai tr√≤</span> ‚Ä¢ <span id="city">Th√†nh ph·ªë</span></div>
        <div class="badges" id="badges"><span class="badge">‚ö° ESP32 / IoT</span><span class="badge">üé® UI/UX</span><span class="badge">üß† AI Tools</span></div>
      </div>
    </section>

    <div class="grid" aria-live="polite">
      <aside class="card">
        <div class="section">
          <h2>Li√™n k·∫øt nhanh</h2>
          <nav class="links" id="links"></nav>
        </div>
      </aside>

      <main class="card">
        <div class="section">
          <h2>Gi·ªõi thi·ªáu</h2>
          <div id="bio" class="prose">
            <p>T√¥i l√† <strong>Your Name</strong> ‚Äî nh√† ph√°t tri·ªÉn IoT & web.</p>
          </div>
        </div>
        <div class="section">
          <h2>D·ª± √°n n·ªïi b·∫≠t</h2>
          <div class="projects" id="projects"></div>
        </div>
        <div id="contact" class="section">
          <h2>Li√™n h·ªá</h2>
          <div class="contact" id="contactBtns"></div>
        </div>
      </main>
    </div>

    <footer>¬© <span id="year"></span> <span id="footerName">Your Name</span> ‚Äî Made with ‚ù§Ô∏è in Vi·ªát Nam</footer>
  </div>

  <script>
    const yearEl = document.getElementById('year'); yearEl.textContent = new Date().getFullYear();
    const footerName = document.getElementById('footerName');
    const els = {
      name: document.getElementById('name'),
      avatar: document.getElementById('avatar'),
      role: document.getElementById('role'),
      city: document.getElementById('city'),
      bio: document.getElementById('bio'),
      badges: document.getElementById('badges'),
      links: document.getElementById('links'),
      projects: document.getElementById('projects'),
      contactBtns: document.getElementById('contactBtns'),
      availableDot: document.getElementById('availableDot')
    };

    const DEFAULTS = {
      name:'Your Name', role:'Nh√† ph√°t tri·ªÉn IoT & Web', city:'HCMC, Vi·ªát Nam',
      avatar:'https://picsum.photos/300?grayscale', openToWork:true,
      accent:'#0ea5e9', theme:'dark',
      bio:'T√¥i l√† nh√† ph√°t tri·ªÉn IoT & web, t·∫≠p trung v√†o ESP32, giao di·ªán ƒë·∫πp & tr·∫£i nghi·ªám m∆∞·ª£t.<br/>T√¥i th√≠ch bi·∫øn √Ω t∆∞·ªüng th√†nh s·∫£n ph·∫©m ch·∫°y ƒë∆∞·ª£c.',
      badges:['‚ö° ESP32 / IoT','üé® UI/UX','üß† AI Tools'],
      links:{ facebook:'', instagram:'', github:'', website:'', youtube:'', tiktok:'', zalo:'', telegram:'' },
      projects:[
        {title:'Chronos Mini ‚Äî ƒê·ªìng h·ªì ESP32-S3', url:'#', desc:'Th√¥ng b√°o cu·ªôc g·ªçi/tin nh·∫Øn, hi·ªáu ·ª©ng pastel, JPEG decoder.'},
        {title:'SmartHome 4-Relay', url:'#', desc:'ƒêi·ªÅu khi·ªÉn 4 k√™nh 220V, Web UI, c·∫£nh b√°o qu√° t·∫£i.'},
        {title:'Yahu ‚Äî Chat ‚Ä¢ Call ‚Ä¢ Blog', url:'#', desc:'Webapp full-stack, g·ªçn v√† nhanh.'}
      ],
      contact:{ email:'you@example.com', phone:'+84', zalo:'', telegram:'' }
    };

    const STORAGE_KEY = 'bioConfig_v1';
    const SERVER_CONFIG_URL = 'bio-config.json?v=' + Date.now(); // cache-buster m·ªói l·∫ßn t·∫£i

    function loadConfigLocal(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {...DEFAULTS}; }catch{ return {...DEFAULTS}; } }
    function setTheme(theme){
      document.body.classList.remove('theme-light','theme-dark','theme-pastel','theme-gradient');
      document.body.classList.add('theme-' + (['light','dark','pastel','gradient'].includes(theme)?theme:'dark'));
    }
    function setAccent(color){
      const c = color || '#0ea5e9';
      document.documentElement.style.setProperty('--accent', c);
      document.documentElement.style.setProperty('--ring', 'rgba(14,165,233,.28)');
      const m = document.querySelector('meta[name="theme-color"]'); if(m) m.setAttribute('content', c);
    }
    function updateHeadName(name){
      const n = String(name||'Your Name').trim();
      document.title = `T√¥i l√† ${n} - Bio`;
      const og = document.querySelector('meta[property="og:title"]'); if(og) og.setAttribute('content', `${n} - Bio`);
    }

    function linkSVG(key){
      const map = {
        facebook:`<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>`,
        instagram:`<rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>`,
        github:`<path d="M12 .5a11.5 11.5 0 0 0-3.64 22.42c.58.11.8-.25.8-.56v-2.02c-3.26.71-3.95-1.57-3.95-1.57-.53-1.35-1.3-1.7-1.3-1.7-1.06-.72.08-.7.08-.7 1.18.08 1.8 1.22 1.8 1.22 1.04 1.78 2.73 1.27 3.4.97.11-.76.41-1.27.74-1.56-2.6-.3-5.33-1.3-5.33-5.79 0-1.28.46-2.33 1.22-3.16-.12-.3-.53-1.51.12-3.15 0 0 1-.32 3.28 1.21a11.4 11.4 0 0 1 5.98 0c2.28-1.53 3.27-1.21 3.27-1.21.65 1.64.24 2.85.12 3.15.76.83 1.22 1.88 1.22 3.16 0 4.5-2.73 5.49-5.34 5.79.43.37.81 1.1.81 2.23v3.3c0 .31.21.68.81.56A11.5 11.5 0 0 0 12 .5z"/>`,
        website:`<circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0  0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>`,
        youtube:`<path d="M22.54 6.42a2.78 2.78 0 0 0-1.95-2C18.88 4 12 4 12 4s-6.88 0-8.59.42a2.78 2.78 0 0 0-1.95 2A29 29 0 0 0 1 12a29 29 0 0 0 .46 5.58 2.78 2.78 0 0 0 1.95 2C5.12 20 12 20 12 20s6.88 0 8.59-.42a2.78 2.78 0 0 0 1.95-2A29 29 0 0 0 23 12a29 29 0 0 0-.46-5.58z"/><polygon points="9.75 15.02 9.75 8.98 15.5 12 9.75 15.02"/>`,
        tiktok:`<path d="M12 2v6a6 6 0 1 0 6 6h-3a3 3 0 1 1-3-3V2z"/>`,
        zalo:`<path d="M4 4h16v16H6l-2 2z"/>`,
        telegram:`<path d="M21 3L8.5 12.5"/><path d="M21 3l-6 18-4.5-8.5L3 10.5z"/>`
      };
      return `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">${map[key]||map.website}</svg>`;
    }

    function applyConfig(cfg){
      setTheme(cfg.theme||'dark'); setAccent(cfg.accent||'#0ea5e9');
      const name = cfg.name||'Your Name'; updateHeadName(name);
      els.name.textContent = name; footerName.textContent = name;
      els.role.textContent = cfg.role||''; els.city.textContent = cfg.city||'';
      els.avatar.src = cfg.avatar||DEFAULTS.avatar;
      els.availableDot.style.display = cfg.openToWork ? 'inline-block' : 'none';
      els.badges.innerHTML=''; (cfg.badges||[]).slice(0,3).forEach(b=>{ const s=document.createElement('span'); s.className='badge'; s.textContent=b; els.badges.appendChild(s); });
      els.bio.innerHTML = (cfg.bio||'').replace(/\n/g,'<br/>');

      // Links: h·ªó tr·ª£ { url: "https://...", icon: "data:image/..."} ho·∫∑c chu·ªói
      els.links.innerHTML='';
      const links = cfg.links||{};
      Object.keys(links).forEach(k=>{
        const v = links[k];
        if(!v) return;
        const obj = typeof v==='string' ? {url:v} : v;
        if(!obj.url) return;
        let host=''; try{ host=new URL(obj.url).hostname.replace('www.',''); }catch{}
        const a=document.createElement('a'); a.className='link'; a.href=obj.url; a.target='_blank'; a.rel='noopener';
        const iconHTML = obj.icon ? `<img class="icon" alt="" src="${obj.icon}"/>` : linkSVG(k);
        a.innerHTML = `${iconHTML} ${k.charAt(0).toUpperCase()+k.slice(1)} <span class='pill'>${host}</span>`;
        els.links.appendChild(a);
      });

      // Projects
      els.projects.innerHTML='';
      (cfg.projects||[]).slice(0,6).forEach(p=>{
        const a=document.createElement('a'); a.className='project'; a.href=p.url||'#'; a.target='_blank'; a.rel='noopener';
        a.innerHTML = `<div class="title">${p.title||'D·ª± √°n'}</div><div class="desc">${p.desc||''}</div>`;
        els.projects.appendChild(a);
      });

      // Contact
      els.contactBtns.innerHTML='';
      const c = cfg.contact||{};
      if(c.email){ const a=document.createElement('a'); a.className='btn'; a.href=`mailto:${c.email}`; a.textContent='üìß G·ª≠i email'; els.contactBtns.appendChild(a); }
      if(c.phone){ const a=document.createElement('a'); a.className='btn'; a.href=`tel:${c.phone}`; a.textContent='üìû G·ªçi ƒëi·ªán'; els.contactBtns.appendChild(a); }
      if(c.zalo){ const a=document.createElement('a'); a.className='btn'; a.href=c.zalo; a.textContent='üí¨ Zalo'; els.contactBtns.appendChild(a); }
      if(c.telegram){ const a=document.createElement('a'); a.className='btn'; a.href=c.telegram; a.textContent='‚úàÔ∏è Telegram'; els.contactBtns.appendChild(a); }
    }

    async function tryLoadServerConfig(){
      try{
        const res = await fetch(SERVER_CONFIG_URL, { cache:'reload' });
        if(!res.ok) return null;
        return await res.json();
      }catch{ return null; }
    }

    (async function init(){
      const url = new URL(location.href);
      const preview = url.searchParams.get('preview')==='1';
      if(preview){
        applyConfig(loadConfigLocal());
      }else{
        const server = await tryLoadServerConfig();
        applyConfig(server || loadConfigLocal());
      }
    })();
  </script>
</body>
</html>
